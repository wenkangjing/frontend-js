@import "whitespace-reset.css"
@import "./3rd/icons.css"
@import "./3rd/pikaday.css"
@import "mixins"

basics()

#application
  margin: 0 auto

#application > header
  position: relative
  height: 40px
  color: colors.headerText
  padding: 5px
  overflow: hidden
  background: colors.dark
  z-index: 10

#board
  position: absolute
  top: 30px
  right: 0
  bottom: 0
  left: 0
  color: colors.boardText
  padding-bottom: 10px
  margin-bottom: 10px
  overflow-x: auto
  overflow-y: hidden
  user-select: none
  white-space: nowrap
  background: colors.light

#board > header
  position: relative
  color: #fff
  padding: 8px 4px 8px 8px
  overflow: hidden

#lists
  margin: 10px
  width: 100%
  height: 100%

.list
  position: relative
  display: inline-block
  color: colors.listText
  width: 270px
  max-height: 100%
  border-radius: 3px
  vertical-align: top
  flex-direction: column
  background: colors.list
  overflow-y: auto
  overflow-x: hidden
  + .list
    margin-left: 10px
  > header
    position: relative
    padding: 8px 10px
    min-height: 18px 
  .list-ops
    position: absolute
    right: 4px
    top: 4px
    z-index: 20
  .list-btn
    border-radius: 3px
  .cards
    padding: 0 4px
    margin: 0 4px
  > a
    display: block
    padding: 8px 10px
    color: #4d4d4d
    text-decoration: none
    &:hover
      text-decoration: underline

.card
  position: relative
  max-width: 300px
  min-height: 20px  
  color: colors.cardText
  padding: 6px 6px 2px 8px
  border-radius: 3px
  border-bottom: 1px solid #ccc
  background: colors.card
  margin-bottom: 6px
  cursor: pointer
  overflow: hidden
  z-index: 10
  &:hover
    background: colors.cardHover
  .card-ops
    position: absolute
    right: 4px
    top: 4px
    z-index: 20
    .card-editor-btn
      border-radius: 3px
  > header
    position: relative
    overflow: hidden
  .label
    float: left
    color: #fff
    height: 8px
    padding: 3px 6px
    margin: 0 3px 3px 0 
    width: 42px
    max-width: 100%
    border-radius: 3px
    text-overflow: ellipsis
  .name
    margin: 0 0 4px 0
  .badge
    display: inline-block
    max-width: 100%
    color: #8c8c8c
    padding: 1px 2px
    margin: 0 4px 4px 0
    overflow: hidden
    text-decoration: none
    //text-overflow: ellipsis
    vertical-align: top
  .badge.past
    border-radius: 3px
    background-color: #EC9488
    span
      color: #fff
  .badge.completed
    background-color: #5AAC44
    border-radius: 3px
    span
      color: #fff

.card-editor
    position: fixed
    top: 0
    left: 0
    right: 0
    bottom: 0
    background: rgba(0,0,0,.6)
    z-index: 20
  .card-editor-close-btn
    position: absolute
    top: 2px
    right 2px
  .card-editor-body
    position: absolute
    background: transparent
    .card-editor-content
      position: absolute
      width: 250px
      top: 0
      left: 0
      .card-editor-input
        width: 240px
        height: 90px // fixme to be autogrow
        resize: none
        word-wrap: break-word
        overflow: hidden 
        background: #fff
      .card-editor-save
        display: inline-block
        color: #fff
        line-height: 22px
        font-weight: 700
        text-align: center
        padding: 7px 20px
        margin: 8px 4px 8px 0
        border-radius: 3px
        cursor: pointer
    .card-editor-ops
      position: absolute
      width: 240px
      height: 240px
      left: 250px
      top: 0
      background: transparent
      .card-editor-btn-link
        float: left
        clear: both
        color: #e6e6e6
        display: block
        padding: 6px 9pt 6px 8px
        border-radius: 3px
        margin: 0 0 4px 8px
        text-decoration: none
        background: rgba(0,0,0,.6)
        &:hover
          background: rgba(0,0,0,.8)
          color: #fff
          transform: translateX(5px)


.card-modal
  position: relative
  width: 730px
  border-radius: 3px
  margin: 10px auto
  background-color: #EDEFF0
  z-index: 25
  > header, main
    margin-left: 38px
  .indent
    margin-left: -38px
  section
    margin-bottom: 20px
  h2
    height: 30px
    line-height: 30px
    font-size: 18px
    font-weight: 700
    span:last-child
      margin-left: 8px
  h3
    color: #8c8c8c
    font-weight: normal
    margin-bottom: 10px
  p
    color: #8c8c8c



.card-modal > header
  padding: 8px 12px
  margin-right: 4px
  .dialog-close-btn
    position: absolute
    top: 2px
    right 2px
    text-decoration: none
    &:hover
      color: rgba(0,0,0,.6)
  a
    color: #8c8c8c
    cursor: pointer
    text-decoration: underline

.card-modal > main
  float: left
  width: 530px
  color: colors.cardText
  padding: 8px 12px
  .labels
    margin-right: 28px
    margin-bottom: 16px
  .description 
    h3
      display: inline-block
      margin-right: 10px
    form
      display: none
  .description-close-btn
    text-decoration: none
    vertical-align: middle
  .card-modal-edit-description,
  .card-modal-edit-comment,
  .card-modal-delete-comment
    text-decoration: underline
    cursor: pointer
    margin: 5px
  .card-modal-create-description
    display: block
    width: 100%
    height: 30px
    line-height: 30px
    cursor: pointer
    text-decoration: underline
    &:hover
      background: #D6DADC
      border-radius: 3px
  .activity
    li
      padding: 10px 0
      border-bottom: 1px solid #E2E4E6
    .user-initials-sm
      vertical-align: middle
    .action
      display: inline-block
    .comment
      display: inline-block
      max-width: 100%
      padding: 5px
      border-radius: 3px
      margin: 5px 0
      background: #fff
      vertical-align: middle
      overflow: hidden
    .comment-ops
      font-size: 12px
    .timestamp
      font-size: 12px
      cursor: pointer
      &:hover
        text-decoration: underline
.card-modal > sidebar
  float: right
  padding: 8px 12px
  width: 160px
  overflow: hidden
  z-index: 10
  .card-modal-btn-link
    position: relative
    display: block
    font-weight: 700
    padding: 7px
    margin-top: 6px
    border-radius: 3px
    text-align: left
    overflow: hidden
    text-overflow: ellipsis
    cursor: pointer
    color: #4d4d4d
    background: linear-gradient(to bottom,#fff 0,#F8F9F9 100%)
    &:hover
      background: #298FCA
    &:focus
      color: inherit
  .card-modal-subscribe .icon-check
    float: right
    border-radius: 3px
    background: #61BD4F

.card-label-pop-over
  .card-label-search
    display: block
    width: 100%
    padding: 7px
    margin: 4px 0 9pt
    border: 1px solid #CDD2D4
    border-color: #A5ACB0
    background-color: #E2E4E6
    border-radius: 3px
    margin-bottom: 9pt
    &:hover
      background:#fff
  .card-label
    display: block
    width: 230px
    min-height: 36px
    padding: 8px
    color: #fff
    font-weight: 700
    border-radius: 3px
    margin: 0 0 4px
    overflow: hidden
    cursor: pointer
    white-space: nowrap
    &:hover
      margin-left: 4px
      box-shadow: -8px 0 rgba(0,0,0,0.5)
    .icon-check
      display: none
      float: right
      color: #fff
    &.selected
      .icon-check
        display: block
  .card-label-edit-btn
    float: right
    width: 36px
    height: 36px
    line-height: 36px
    border-radius: 3px
    &:hover
      background: #D6DADC
  .card-label-add
    display: block
    width: 100%
    height: 30px
    line-height: 30px
    color: rgb(140, 140, 140)
    border-radius: 3px
    cursor: pointer
    text-decoration: underline
    &:hover
      background: #D6DADC
      color: #4d4d4d

.card-duedate-pop-over
  .card-duedate-date, .card-duedate-time  
    width: 130px
    display: inline-block
  .card-duedate-time
    float: right
  .card-duedate-time input, 
  .card-duedate-date input
    display: block
    width: 100%
    padding: 7px
    margin: 4px 0
    border-radius: 3px
    border: 1px solid #CDD2D4
    background-color: #E2E4E6
    &:focus
      background: #fff
      border-color: #298FCA
      outline: none
      box-shadow: 0 0 2px #298FCA
    &.invalid
      border-color: #EB5A46
  .duedate-save, .duedate-remove
    display: inline-block
    width: 100px
  .duedate-remove
    float: right

// pikaday theme
.pika-single
  border-radius: 3px
  padding: 5px
.pika-lendar
  margin: 0 auto
  float: none
  .pika-prev, .pika-next
    width: auto
    text-indent: 0
    padding: 0 4px
    border-radius: 3px
    background-image: none
    text-decoration: underline
    &:hover
      color: #4d4d4d
      background-color: #D6DADC
  .pika-select-month, .pika-select-year
    padding: 0 4px
    border-radius: 3px
    text-decoration: underline
    &:hover
      color: #4d4d4d
      background-color: #D6DADC
  table
    border-collapse: collapse
    border-spacing: 0
  th, td
    font-size: 14px
    text-align: center
    border: 1px solid #D6DADC
  th
    color: #4d4d4d
  .pika-button
    line-height: 22px
    font-size: 14px
    text-align: center
    border-radius: 0
    &:hover
      background-color: #D6DADC
  .is-selected .pika-button
    color: #fff
    background: #0079BF
    &:hover
      opacity: 0.5

.card-label-edit-pop-over
  .card-label-name
    display: block
    width: 100%
    padding: 7px
    margin: 4px 0 9pt
    border: 1px solid #CDD2D4
    border-color: #A5ACB0
    background-color: #E2E4E6
    border-radius: 3px
    margin-bottom: 9pt
    &:hover
      background:#fff
  .card-label-color-list
    display: inline
    .label-edit-color-btn
      display: inline-block
      width: 45px
      height: 35px
      line-height: 35px
      text-align: center
      border-radius: 3px
      margin: 5px
      cursor: pointer
      vertical-align: top
      &:hover
        opacity: 0.5
      .icon-check
        display: none
    .label-edit-color-btn.selected .icon-check
      display: inline-block
      color: #fff
  .nocolor-notes
    width: 200px
    display: inline-block
    vertical-align: top
  .label-edit-save
    outline: 0
    border: 0
    background: linear-gradient(to bottom,#61BD4F 0,#5AAC44 100%)
    box-shadow: 0 1px 0 #3F6F21
    color: #fff
    &:hover
      background: linear-gradient(#5AAC44 0%, #519839 100%)
  .label-edit-delete
    float: right
.card-label-delete-pop-over
  .label-delete-confirm
    width: 100%